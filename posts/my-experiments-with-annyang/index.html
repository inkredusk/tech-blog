<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>My Experiments With Annyang! - Threads Of Life</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="My Experiments With Annyang!" />
<meta property="og:description" content="Note: Please allow access to microphone to use speech recognition feature.
 Hi everyone!
Speech recognition has always being one of those features that is always perceived to be good based on it&rsquo;s acccuracy. There exists a ton of libraries today that offer this functionality in almost any kind of app.
I happened to stumble upon Annyang a few weeks back and wanted to try it in an existing PWA (Progressive Web App)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://karanbalkar.com/posts/my-experiments-with-annyang/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-22T21:15:32+05:30" />
<meta property="article:modified_time" content="2021-10-22T21:15:32+05:30" />


		<meta itemprop="name" content="My Experiments With Annyang!">
<meta itemprop="description" content="Note: Please allow access to microphone to use speech recognition feature.
 Hi everyone!
Speech recognition has always being one of those features that is always perceived to be good based on it&rsquo;s acccuracy. There exists a ton of libraries today that offer this functionality in almost any kind of app.
I happened to stumble upon Annyang a few weeks back and wanted to try it in an existing PWA (Progressive Web App)."><meta itemprop="datePublished" content="2021-10-22T21:15:32+05:30" />
<meta itemprop="dateModified" content="2021-10-22T21:15:32+05:30" />
<meta itemprop="wordCount" content="225">
<meta itemprop="keywords" content="javascript,voice activation,web," />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Threads Of Life" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Threads Of Life</div>
					<div class="logo__tagline">Start..Pause...Run...but never STOP!</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/contact/">
				
				<span class="menu__text">Contact</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/speaker-profile/">
				
				<span class="menu__text">Speaker Profile</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">My Experiments With Annyang!</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">Karan Balkar</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2021-10-22T21:15:32&#43;05:30">Friday, Oct 22, 2021</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/tech/" rel="category">Tech</a>, <a class="meta__link" href="/categories/speech-recognition/" rel="category">Speech recognition</a>, <a class="meta__link" href="/categories/tips-and-tricks/" rel="category">Tips and tricks</a>
	</span>
</div></div>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<blockquote>
<p>Note: Please allow access to microphone to use speech recognition feature.</p>
</blockquote>
<p>Hi everyone!</p>
<p>Speech recognition has always being one of those features that is always perceived to be good based on it&rsquo;s acccuracy. There exists a ton of libraries today that offer this functionality in almost any kind of app.</p>
<p>I happened to stumble upon <a href="https://github.com/TalAter/annyang">Annyang</a> a few weeks back and wanted to try it in an existing PWA (Progressive Web App). One of the good things about this library is that it&rsquo;s quite <em>lightweight</em>.</p>
<p>A pretty basic implementation of it,</p>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/annyang.min.js"></script>
<script type="text/javascript" src="/js/recognition.min.js"></script>
<h4 id="try-saying-scroll-down">Try saying &lsquo;scroll down&rsquo;</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx">
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">scrollDownPage</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
   <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;html,body&#39;</span>).<span style="color:#a6e22e">animate</span>({<span style="color:#a6e22e">scrollTop</span><span style="color:#f92672">:</span> document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">scrollHeight</span>},<span style="color:#e6db74">&#34;slow&#34;</span>);
};

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">scrollUpPage</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
  <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;body&#39;</span>).<span style="color:#a6e22e">scrollTop</span>(<span style="color:#ae81ff">0</span>);
};

<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">annyang</span>) {

    <span style="color:#75715e">//add commands
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> {
      <span style="color:#e6db74">&#39;scroll down&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">scrollDownPage</span>,
      <span style="color:#e6db74">&#39;scroll up&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">scrollUpPage</span>,
    };

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">notConnected</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;not connected&#39;</span>);
    }

    <span style="color:#75715e">// OPTIONAL: activate debug mode for detailed logging in the console
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">debug</span>();

    <span style="color:#75715e">// Add some commands
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">addCommands</span>(<span style="color:#a6e22e">commands</span>);

    <span style="color:#75715e">// Set language
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">setLanguage</span>(<span style="color:#e6db74">&#39;en&#39;</span>);

    <span style="color:#75715e">// Start listening.
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">start</span>();

      <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">addCallback</span>(<span style="color:#e6db74">&#39;error&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">error</span>) {
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;There was an error during speech recognition==&gt;&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">error</span>));
    });

    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">addCallback</span>(<span style="color:#e6db74">&#39;resultMatch&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">userSaid</span>, 
    <span style="color:#a6e22e">commandText</span>, <span style="color:#a6e22e">phrases</span>) {
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;commandText==&gt;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">commandText</span>); 
    });

    <span style="color:#75715e">// pass local context to a global function called notConnected
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">annyang</span>.<span style="color:#a6e22e">addCallback</span>(<span style="color:#e6db74">&#39;errorNetwork&#39;</span>, <span style="color:#a6e22e">notConnected</span>, <span style="color:#66d9ef">this</span>);

}

</code></pre></div><h4 id="now-try-saying-scroll-up">Now, try saying &lsquo;scroll up&rsquo;</h4>
<p>That&rsquo;s it for this post. Hope this helps give you an idea about how one can quickly integrate speech recognition to an existing website.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/javascript/" rel="tag">javascript</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/voice-activation/" rel="tag">voice activation</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/web/" rel="tag">web</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Karan Balkar avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Karan Balkar</span>
	</div>
	<div class="authorbox__description">
		Karan Balkar is a mobile application developer primarily working on Android since the past 5 years. He has also worked on Augmented reality / Virtual reality based mobile applications and is passionate about exploring new innovative technologies.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/chaos-in-the-world-of-jenkins/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Chaos in the World of Jenkins</p>
		</a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "threadsoflifeblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 Threads Of Life
			<span class="footer__copyright-credits"></span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>