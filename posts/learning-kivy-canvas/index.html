<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Learning Kivy : Canvas - Threads Of Life</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Learning Kivy : Canvas" />
<meta property="og:description" content="Hey everyone!
In my previous Kivy tutorial I talked about the Carousel widget and the AsyncImage class that one can use to display and load images respectively. Today I would be talking about the Graphics module of the Kivy framework! 1. Graphics  (kivy.graphics) From the Kivy documentation, the Graphics package assembles all low level functions to draw an object.The entire package is compatible with OpenGL ES 2.0 and has a lot of rendering optimizations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://karanbalkar.com/posts/learning-kivy-canvas/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-10-18T15:17:23+05:30" />
<meta property="article:modified_time" content="2015-10-18T15:17:23+05:30" />


		<meta itemprop="name" content="Learning Kivy : Canvas">
<meta itemprop="description" content="Hey everyone!
In my previous Kivy tutorial I talked about the Carousel widget and the AsyncImage class that one can use to display and load images respectively. Today I would be talking about the Graphics module of the Kivy framework! 1. Graphics  (kivy.graphics) From the Kivy documentation, the Graphics package assembles all low level functions to draw an object.The entire package is compatible with OpenGL ES 2.0 and has a lot of rendering optimizations."><meta itemprop="datePublished" content="2015-10-18T15:17:23+05:30" />
<meta itemprop="dateModified" content="2015-10-18T15:17:23+05:30" />
<meta itemprop="wordCount" content="370">
<meta itemprop="keywords" content="development,kivy,UI Canvas,python," />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Threads Of Life" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Threads Of Life</div>
					<div class="logo__tagline">Start..Pause...Run...but never STOP!</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/contact/">
				
				<span class="menu__text">Contact</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/speaker-profile/">
				
				<span class="menu__text">Speaker Profile</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Learning Kivy : Canvas</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">Karan Balkar</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2015-10-18T15:17:23&#43;05:30">Sunday, Oct 18, 2015</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/tech/" rel="category">Tech</a>, <a class="meta__link" href="/categories/kivy/" rel="category">Kivy</a>, <a class="meta__link" href="/categories/tips-and-tricks/" rel="category">Tips and tricks</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Hey everyone!</p>
<p>In my <a href="http://karanbalkar.com/posts/learning-kivy-carousel-and-asyncimage/">previous</a> Kivy tutorial I talked about the <strong>Carousel</strong> widget and the <strong>AsyncImage</strong> class that one can use to display and load images respectively. Today I would be talking about the <strong>Graphics</strong> module of the Kivy framework! </p></p>
<p align="justify"><strong>1. Graphics </strong> (<em>kivy.graphics</em>) </p>
<p align="justify">From the Kivy documentation, the <a href="http://kivy.org/docs/api-kivy.graphics.html" target="_blank">Graphics</a> package assembles all low level functions to draw an object.The entire package is compatible with <strong>OpenGL ES 2.0</strong> and has a lot of rendering optimizations. </p>
<p align="justify">There are basically <strong>two things</strong> that one would require to draw on a screen. They are namely:</p>
<ul>
<li>Canvas</li>
<li>Instruction objects</li>
</ul>
<p align="justify">Each widget in Kivy already have their <em>Canvas</em> by default. When you are creating a widget, you can create all the instructions needed for drawing. If <strong>self</strong> is your current widget, you can do: </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">from</span> kivy.graphics <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
<span style="color:#66d9ef">with</span> self<span style="color:#f92672">.</span>canvas:
    <span style="color:#75715e"># Add a red color</span>
    Color(<span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)

    <span style="color:#75715e"># Add a rectangle</span>
    Rectangle(pos<span style="color:#f92672">=</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>), size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>))
</code></pre></div><p align="justify">The <em>instructions</em> <strong>Color</strong> and <strong>Rectangle</strong> are automatically added to the canvas object, and will be used when the window drawing will happen. </p>
<p align="justify"><strong>2. Canvas</strong> (<em>kivy.graphics.instructions</em>) </p>
<p align="justify">The <a href="http://kivy.org/docs/api-kivy.graphics.instructions.html" target="_blank">Canvas</a> is a root object used for drawing by a Widget. The Canvas supports Python's <strong>with</strong> statement and it's enter and exit semantics.</p>
<p align="justify">Use of Canvas without the <strong>with</strong> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">self<span style="color:#f92672">.</span>canvas<span style="color:#f92672">.</span>add(Color(<span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">0</span>))
self<span style="color:#f92672">.</span>canvas<span style="color:#f92672">.</span>add(Rectangle(size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>)))
</code></pre></div><p align="justify">Usage of Canvas with Python's <strong>with</strong> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#66d9ef">with</span> self<span style="color:#f92672">.</span>canvas:
    Color(<span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">0</span>)
    Rectangle(size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>))
</code></pre></div><p align="justify">Now, here's a small implementation of the Canvas object! </p>
<p align="justify">Open Python IDLE and create a new Python script. Give the name as <strong>canvas_demo.py</strong> </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">from</span> kivy.uix.button <span style="color:#f92672">import</span> Button
<span style="color:#f92672">from</span> kivy.uix.widget <span style="color:#f92672">import</span> Widget
<span style="color:#f92672">from</span> kivy.uix.gridlayout <span style="color:#f92672">import</span> GridLayout
<span style="color:#f92672">from</span> kivy.app <span style="color:#f92672">import</span> App
<span style="color:#f92672">from</span> kivy.graphics <span style="color:#f92672">import</span> Color, Rectangle
<span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> partial

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CanvasApp</span>(App):

    <span style="color:#75715e">#function to add rectangle to screen</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_rects</span>(self,wid,<span style="color:#f92672">*</span>largs):
        <span style="color:#66d9ef">with</span> wid<span style="color:#f92672">.</span>canvas:
                Color(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">.5</span>, mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;rgba&#39;</span>)
                wid<span style="color:#f92672">.</span>rect <span style="color:#f92672">=</span> Rectangle(pos<span style="color:#f92672">=</span>(<span style="color:#ae81ff">200</span>,<span style="color:#ae81ff">200</span>), size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">300</span>,<span style="color:#ae81ff">300</span>))
                
    <span style="color:#75715e">#function to clear rectangle from screen</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reset_rects</span>(self,wid,<span style="color:#f92672">*</span>largs):
        wid<span style="color:#f92672">.</span>canvas<span style="color:#f92672">.</span>clear()

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">build</span>(self):
        wid <span style="color:#f92672">=</span> Widget()
         
        <span style="color:#75715e">#calling function with default arguments</span>
        btn_add <span style="color:#f92672">=</span> Button(text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Draw rectangle&#39;</span>,on_press<span style="color:#f92672">=</span>partial(self<span style="color:#f92672">.</span>add_rects,wid,<span style="color:#e6db74">&#39;Adding a rectangle&#39;</span>))
        btn_clear <span style="color:#f92672">=</span> Button(text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Clear&#39;</span>,on_press<span style="color:#f92672">=</span>partial(self<span style="color:#f92672">.</span>reset_rects,wid,<span style="color:#e6db74">&#39;Clear the canvas&#39;</span>))

        layout <span style="color:#f92672">=</span> GridLayout(cols<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,rows<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
        layout<span style="color:#f92672">.</span>add_widget(btn_add)
        layout<span style="color:#f92672">.</span>add_widget(btn_clear)
        root<span style="color:#f92672">=</span>GridLayout()
        root<span style="color:#f92672">.</span>add_widget(wid)
        root<span style="color:#f92672">.</span>add_widget(layout)

        <span style="color:#66d9ef">return</span> root

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    CanvasApp()<span style="color:#f92672">.</span>run()
</code></pre></div><p align="justify">On running the above code, you should see a red color rectangle as soon as you click on the <strong>Draw Rectangle</strong> button. On pressing the <strong>Clear</strong> button the rectangle will disappear!</p>
<p><img src="/custom/images/kivy_canvas_demo.png" alt="kivy_canvas_demo"></p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/development/" rel="tag">development</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/kivy/" rel="tag">kivy</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/ui-canvas/" rel="tag">UI Canvas</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/python/" rel="tag">python</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Karan Balkar avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Karan Balkar</span>
	</div>
	<div class="authorbox__description">
		Karan Balkar is a mobile application developer primarily working on Android since the past 5 years. He has also worked on Augmented reality / Virtual reality based mobile applications and is passionate about exploring new innovative technologies.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/learning-kivy-carousel-and-asyncimage/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Learning Kivy : Carousel and AsyncImage</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/learning-kivy-tabbedpanel/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Learning Kivy : TabbedPanel</p>
		</a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "threadsoflifeblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 Threads Of Life
			<span class="footer__copyright-credits"></span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>